\hypertarget{callbacks_8cpp}{}\doxysection{src/callbacks.cpp File Reference}
\label{callbacks_8cpp}\index{src/callbacks.cpp@{src/callbacks.cpp}}


Callbacks node for getting information needed from the robot.  


{\ttfamily \#include \char`\"{}ros/ros.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ros/callback\+\_\+queue.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}final\+\_\+srv/\+Callbacks\+\_\+srv.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}actionlib\+\_\+msgs/\+Goal\+Status\+Array.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sensor\+\_\+msgs/\+Laser\+Scan.\+h\char`\"{}}\newline
Include dependency graph for callbacks.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{callbacks_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{callbacks_8cpp_a6ee03a946ca62e04700d55956a853274}{callback\+\_\+scan}} (const sensor\+\_\+msgs\+::\+Laser\+Scan\+::\+Const\+Ptr \&msg)
\item 
void \mbox{\hyperlink{callbacks_8cpp_a0edaa2db613a1d1bea6dedd8f502677d}{callback\+\_\+status}} (const actionlib\+\_\+msgs\+::\+Goal\+Status\+Array\+::\+Const\+Ptr \&msg)
\item 
int \mbox{\hyperlink{callbacks_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{callbacks_8cpp_a17bcd065930a8a7f9f194078d9977268}\label{callbacks_8cpp_a17bcd065930a8a7f9f194078d9977268}} 
ros\+::\+Service\+Client \mbox{\hyperlink{callbacks_8cpp_a17bcd065930a8a7f9f194078d9977268}{client}}
\begin{DoxyCompactList}\small\item\em Client to /service custom service. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{callbacks_8cpp_a35189ff8bd423937096fab144f74e980}\label{callbacks_8cpp_a35189ff8bd423937096fab144f74e980}} 
final\+\_\+srv\+::\+Callbacks\+\_\+srv \mbox{\hyperlink{callbacks_8cpp_a35189ff8bd423937096fab144f74e980}{var}}
\begin{DoxyCompactList}\small\item\em Variable used to pass data between nodes with the custom service. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Callbacks node for getting information needed from the robot. 

\begin{DoxyAuthor}{Author}
Aurora Durante 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
04/02/2022
\end{DoxyDate}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em frame\+\_\+id} & Define position of goal frame \\
\hline
\mbox{\texttt{ in}}  & {\em w} & Define porientation of goal frame\\
\hline
\end{DoxyParams}
Subscribes to\+: ~\newline
 °/scan °/move\+\_\+base/status Services\+: ~\newline
 °/service

Description\+: This node subscribes to opics needed for the robot to get information about the environment and about the goal it has to reach. This node than passes all the information to the other nodes by calling the custom service. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{callbacks_8cpp_a6ee03a946ca62e04700d55956a853274}\label{callbacks_8cpp_a6ee03a946ca62e04700d55956a853274}} 
\index{callbacks.cpp@{callbacks.cpp}!callback\_scan@{callback\_scan}}
\index{callback\_scan@{callback\_scan}!callbacks.cpp@{callbacks.cpp}}
\doxysubsubsection{\texorpdfstring{callback\_scan()}{callback\_scan()}}
{\footnotesize\ttfamily void callback\+\_\+scan (\begin{DoxyParamCaption}\item[{const sensor\+\_\+msgs\+::\+Laser\+Scan\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}

Callback of /scan topic 
\begin{DoxyParams}{Parameters}
{\em msg} & points to the field of the topic of interest to get minimum distances\\
\hline
\end{DoxyParams}
In this function the node acquires information from the laser scanner of the robot and uses them to move the robot in the circuit. The \textquotesingle{}ranges\textquotesingle{} array, which is of size 721 and containes the information needed, is divided in three sections to cover respectively \mbox{[}0 60\mbox{]}° (right section), \mbox{[}60 120\mbox{]}° (central section) and ~\newline
 \mbox{[}120 180\mbox{]}° (left section).\mbox{\Hypertarget{callbacks_8cpp_a0edaa2db613a1d1bea6dedd8f502677d}\label{callbacks_8cpp_a0edaa2db613a1d1bea6dedd8f502677d}} 
\index{callbacks.cpp@{callbacks.cpp}!callback\_status@{callback\_status}}
\index{callback\_status@{callback\_status}!callbacks.cpp@{callbacks.cpp}}
\doxysubsubsection{\texorpdfstring{callback\_status()}{callback\_status()}}
{\footnotesize\ttfamily void callback\+\_\+status (\begin{DoxyParamCaption}\item[{const actionlib\+\_\+msgs\+::\+Goal\+Status\+Array\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}

Callback of /status topic 
\begin{DoxyParams}{Parameters}
{\em msg} & points to the field of the topic of interest to get goal status\\
\hline
\end{DoxyParams}
In this function the node constantly get the status of the goal and use it to inform the user about it. The \textquotesingle{}status\+\_\+list\textquotesingle{} array defines 9 possibile states, among which state 3 is \textquotesingle{}S\+U\+C\+C\+E\+D\+ED\textquotesingle{} and 5 is \textquotesingle{}R\+E\+J\+E\+C\+T\+ED\textquotesingle{}\+: if they are set to \textquotesingle{}1\textquotesingle{}, it means that the ~\newline
 requested target is respectively achieved and unattainable or invalid.\mbox{\Hypertarget{callbacks_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{callbacks_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{callbacks.cpp@{callbacks.cpp}!main@{main}}
\index{main@{main}!callbacks.cpp@{callbacks.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}

Main function of the node 
\begin{DoxyParams}{Parameters}
{\em argc} & is input of the node \\
\hline
{\em argv} & is input of the node\\
\hline
\end{DoxyParams}
In this main function the node is initialized and setted to handle communication with R\+OS system. It also defines the subscribers and client needed for this node and it constantly updates the parameters in the callbacks.