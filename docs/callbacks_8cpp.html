<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RT2 assignment: src/callbacks.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RT2 assignment
   </div>
   <div id="projectbrief">Package to control a robot</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">callbacks.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Callbacks node for getting information needed from the robot.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ros/ros.h&quot;</code><br />
<code>#include &quot;ros/callback_queue.h&quot;</code><br />
<code>#include &quot;final_srv/Callbacks_srv.h&quot;</code><br />
<code>#include &quot;actionlib_msgs/GoalStatusArray.h&quot;</code><br />
<code>#include &quot;sensor_msgs/LaserScan.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for callbacks.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="callbacks_8cpp__incl.png" border="0" usemap="#src_2callbacks_8cpp" alt=""/></div>
<map name="src_2callbacks_8cpp" id="src_2callbacks_8cpp">
<area shape="rect" title="Callbacks node for getting information needed from the robot." alt="" coords="297,5,430,32"/>
<area shape="rect" title=" " alt="" coords="5,87,84,114"/>
<area shape="rect" title=" " alt="" coords="108,87,267,114"/>
<area shape="rect" title=" " alt="" coords="291,80,436,121"/>
<area shape="rect" title=" " alt="" coords="461,80,655,121"/>
<area shape="rect" title=" " alt="" coords="679,87,869,114"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6ee03a946ca62e04700d55956a853274"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="callbacks_8cpp.html#a6ee03a946ca62e04700d55956a853274">callback_scan</a> (const sensor_msgs::LaserScan::ConstPtr &amp;msg)</td></tr>
<tr class="separator:a6ee03a946ca62e04700d55956a853274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0edaa2db613a1d1bea6dedd8f502677d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="callbacks_8cpp.html#a0edaa2db613a1d1bea6dedd8f502677d">callback_status</a> (const actionlib_msgs::GoalStatusArray::ConstPtr &amp;msg)</td></tr>
<tr class="separator:a0edaa2db613a1d1bea6dedd8f502677d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="callbacks_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a17bcd065930a8a7f9f194078d9977268"><td class="memItemLeft" align="right" valign="top"><a id="a17bcd065930a8a7f9f194078d9977268"></a>
ros::ServiceClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="callbacks_8cpp.html#a17bcd065930a8a7f9f194078d9977268">client</a></td></tr>
<tr class="memdesc:a17bcd065930a8a7f9f194078d9977268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Client to /service custom service. <br /></td></tr>
<tr class="separator:a17bcd065930a8a7f9f194078d9977268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35189ff8bd423937096fab144f74e980"><td class="memItemLeft" align="right" valign="top"><a id="a35189ff8bd423937096fab144f74e980"></a>
final_srv::Callbacks_srv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="callbacks_8cpp.html#a35189ff8bd423937096fab144f74e980">var</a></td></tr>
<tr class="memdesc:a35189ff8bd423937096fab144f74e980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable used to pass data between nodes with the custom service. <br /></td></tr>
<tr class="separator:a35189ff8bd423937096fab144f74e980"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Callbacks node for getting information needed from the robot. </p>
<dl class="section author"><dt>Author</dt><dd>Aurora Durante </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>04/02/2022</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">frame_id</td><td>Define position of goal frame </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">w</td><td>Define porientation of goal frame</td></tr>
  </table>
  </dd>
</dl>
<p>Subscribes to: <br  />
 °/scan °/move_base/status Services: <br  />
 °/service</p>
<p>Description: This node subscribes to opics needed for the robot to get information about the environment and about the goal it has to reach. This node than passes all the information to the other nodes by calling the custom service. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6ee03a946ca62e04700d55956a853274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee03a946ca62e04700d55956a853274">&#9670;&nbsp;</a></span>callback_scan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void callback_scan </td>
          <td>(</td>
          <td class="paramtype">const sensor_msgs::LaserScan::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback of /scan topic </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>points to the field of the topic of interest to get minimum distances</td></tr>
  </table>
  </dd>
</dl>
<p>In this function the node acquires information from the laser scanner of the robot and uses them to move the robot in the circuit. The 'ranges' array, which is of size 721 and containes the information needed, is divided in three sections to cover respectively [0 60]° (right section), [60 120]° (central section) and <br  />
 [120 180]° (left section).</p>

</div>
</div>
<a id="a0edaa2db613a1d1bea6dedd8f502677d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0edaa2db613a1d1bea6dedd8f502677d">&#9670;&nbsp;</a></span>callback_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void callback_status </td>
          <td>(</td>
          <td class="paramtype">const actionlib_msgs::GoalStatusArray::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback of /status topic </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>points to the field of the topic of interest to get goal status</td></tr>
  </table>
  </dd>
</dl>
<p>In this function the node constantly get the status of the goal and use it to inform the user about it. The 'status_list' array defines 9 possibile states, among which state 3 is 'SUCCEDED' and 5 is 'REJECTED': if they are set to '1', it means that the <br  />
 requested target is respectively achieved and unattainable or invalid.</p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Main function of the node </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>is input of the node </td></tr>
    <tr><td class="paramname">argv</td><td>is input of the node</td></tr>
  </table>
  </dd>
</dl>
<p>In this main function the node is initialized and setted to handle communication with ROS system. It also defines the subscribers and client needed for this node and it constantly updates the parameters in the callbacks.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
